<div nz-row class="title-bar">
  <div nz-col [nzSpan]="24">
    <h1 class="page-heading">My Transactions</h1>
    <button nz-button class="btn btn__high_orange" (click)="addBeneficiary()">
      Make Transfer
    </button>
  </div>
</div>

<div class="table-content">
  <div class="desktop-only">
    <div nz-row class="table-row heading-row">
      <div nz-col [nzSpan]="3" class="table-col">
        <span>Date</span>
      </div>
      <div nz-col [nzSpan]="3" class="table-col">
        <span>Transfer Reference</span>
      </div>
      <div nz-col [nzSpan]="4" class="table-col">
        <span>Beneficiary Name</span>
      </div>
      <div nz-col [nzSpan]="3" class="table-col">
        <span>Transferred Amount</span>
      </div>
      <div nz-col [nzSpan]="3" class="table-col">
        <span>Received Amount</span>
      </div>
      <div nz-col [nzSpan]="2" class="table-col">
        <span>Status</span>
      </div>
      <div nz-col [nzSpan]="5" class="table-col">
        <span>Cash Payment Confirmation</span>
      </div>
      <div nz-col [nzSpan]="1" class="table-col">
        <span></span>
      </div>
    </div>
    <div>
      <div
        nz-row
        class="table-row data-row"
        *ngFor="let data of tableDataWithFilter"
      >
        <div nz-col [nzSpan]="3" class="table-col">
          <span>{{ data.transactionDate }}</span>
        </div>
        <div nz-col [nzSpan]="3" class="table-col">
          <span>{{ data.transactionReferenceNumber }}</span>
        </div>
        <div nz-col [nzSpan]="4" class="table-col">
          <span>{{ data.beneficiaryName }}</span>
        </div>
        <div nz-col [nzSpan]="3" class="table-col">
          <span>{{ data.transferAmount.toLocaleString('en-US', {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          }) }}</span>
        </div>
        <div nz-col [nzSpan]="3" class="table-col">
          <span>{{ (data.amountReceived).toLocaleString('en-US', {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          }) }}</span>
        </div>
        <div nz-col [nzSpan]="2" class="table-col">
          <span>{{ data.transactionStatus }}</span>
        </div>
        <div nz-col [nzSpan]="5" class="table-col">
          <span>{{ data.cardPaymentonfirmation }}</span>
        </div>
        <div nz-col [nzSpan]="1" class="table-col">
          <img
            src="./assets/icons/view-eye.svg"
            (click)="viewTransactionDetails(data)"
          />
        </div>
      </div>
    </div>
  </div>

  <div class="mobile-only mobile-table">
    <div class="table-card" *ngFor="let data of tableDataWithFilter">
      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>Date </span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span>{{ data.transactionDate }}</span>
        </div>
      </div>
      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>Transaction Ref </span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span>{{ data.transactionReferenceNumber }}</span>
        </div>
      </div>

      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>Beneficiary Name</span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span>{{ data.beneficiaryName }}</span>
        </div>
      </div>
      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span> Transfered Amount</span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span>{{ data.transferAmount.toLocaleString('en-US', {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          }) }}</span>
        </div>
      </div>
      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span> Received Amount</span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span>{{ data.amountReceived.toLocaleString('en-US', {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          }) }}</span>
        </div>
      </div>
      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span> Status</span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span> {{ data.transactionStatus }}</span>
        </div>
      </div>
      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>Cash Payment Confirmation</span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span>{{ data.cardPaymentonfirmation }}</span>
        </div>
      </div>

      <div nz-row>
        <div nz-col [nzSpan]="12" class="table-col">
          <span></span>
        </div>

        <div nz-col [nzSpan]="12" class="table-col">
          <span
            ><img
              src="./assets/icons/view-eye.svg"
              alt=""
              (click)="viewTransactionDetails(data)"
            />
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="pagination-row">
    <nz-pagination
      class="pagination"
      [nzPageSize]="pageSize"
      [nzPageIndex]="currentPageIndex"
      [nzTotal]="totalRecords"
      nzShowQuickJumper
      [nzShowTotal]="rangeTemplate"
      (nzPageIndexChange)="pageIndexChange($event)"
    >
    </nz-pagination>
    <ng-template #rangeTemplate let-range="range" let-total>
      <span>{{ range[0] }} of {{ total }} items</span>
    </ng-template>
  </div>
</div>
